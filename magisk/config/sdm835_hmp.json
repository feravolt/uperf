{
    "meta": {
        "name": "sdm835-hmp[21.07.25]",
        "author": "yc@coolapk(powered by wipe-v2)",
        "features": "touch cpuload render standby sfanalysis ssanalysis dispfeature"
    },
    "common": {
        "verboseLog": {
            "note": "用于调试的详细日志",
            "enable": false
        },
        "switchInode": {
            "note": "接收性能模式切换的inode节点",
            "path": "/sdcard/yc/uperf/cur_powermode"
        },
        "inputReader": {
            "note": "用户输入读取提供触摸按下/点击/滑动hint。sampleIntervalMinMs:最小用户输入采样间隔。swipeThdPct:滑动大于此相对距离阈值认为是滑动操作。gesturePctX:全面屏手势识别起始坐标X轴阈值。gesturePctY:全面屏手势识别起始坐标X轴阈值。gestureDelayMs:全面屏手势退出延时。holdEnterMs:长时间保持触摸的时长。",
            "enable": false,
            "sampleIntervalMinMs": 20,
            "swipeThdPct": 0.04,
            "gesturePctX": 0.04,
            "gesturePctY": 0.03,
            "gestureDelayMs": 3000,
            "holdEnterMs": 1000
        },
        "loadMonitor": {
            "note": "系统负载监视器提供重负载hint。load:系统负载为所有核心的负载总和，单个核心负载=频率(Ghz)*效率(A53@1.0g为100)*负载(%)。heavyLoad:进入HeavyLoad的系统负载阈值。idleLoad:退出HeavyLoad的系统负载阈值。requestBurstSlackMs:在上一次HeavyLoad结束后，且在requestBurstSlack时间内没有HeavyLoad请求，才能响应新的HeavyLoad。",
            "enable": false,
            "sampleIntervalMinMs": 100,
            "heavyLoad": 1290,
            "idleLoad": 860,
            "requestBurstSlackMs": 3000
        },
        "sfAnalysis": {
            "note": "surfaceflinger分析器提供渲染开始/结束/滞后hint。boostCntMax:SfBoost可用次数缓存上限。boostGrowQuantumMs:每满此间隔没有SfBoost请求，则SfBoost可用次数+1。renderIdleSlackMs:进入渲染结束状态前的滞后时长。",
            "enable": true,
            "boostCntMax": 50,
            "boostGrowQuantumMs": 100,
            "renderIdleSlackMs": 1
        },
        "ssAnalysis": {
            "note": "system_server分析器提供系统过渡动画开始/结束hint。",
            "enable": true
        },
        "uxAffinity": {
            "note": "UX线程自动设置，固定高优先级的UX线程到大核，并限制低优先级线程的需求响应",
            "enable": true
        },
        "dispFeature": {
            "note": "动态屏幕刷新率。path:白名单配置文件路径。rampDownDelayMs:降低屏幕刷新率前延时，降低频繁切换对视觉效果的影响。",
            "enable": false,
            "path": "/sdcard/yc/uperf/cfg_uperf_display.txt",
            "rampDownDelayMs": 2000
        },
        "dispatch": [
            {
                "hint": "None",
                "action": "normal",
                "maxDuration": 0,
                "note": "无Hint的常规状态"
            },
            {
                "hint": "Active",
                "action": "normal",
                "maxDuration": 0,
                "note": "屏幕渲染刷新时切换的Hint"
            },
            {
                "hint": "Touch",
                "action": "interaction",
                "maxDuration": 0,
                "note": "触摸到屏幕切换的Hint"
            },
            {
                "hint": "Pressed",
                "action": "interaction",
                "maxDuration": 0,
                "note": "按住屏幕切换的Hint"
            },
            {
                "hint": "Tap",
                "action": "interaction",
                "maxDuration": 2000,
                "note": "点击松开屏幕切换的Hint"
            },
            {
                "hint": "Swipe",
                "action": "interaction",
                "maxDuration": 4000,
                "note": "在屏幕滑动一段距离松开后切换的Hint"
            },
            {
                "hint": "HeavyLoad",
                "action": "heavyLoad",
                "maxDuration": 2000,
                "note": "在Tap或Swipe检测到重负载后切换，负载降低后回落到Tap"
            },
            {
                "hint": "SfLag",
                "action": "sfLag",
                "maxDuration": 20,
                "note": "给Surfaceflinger的渲染提交出现滞后的Hint，滞后的渲染完成后会提前退出"
            },
            {
                "hint": "SfBoost",
                "action": "sfLag",
                "maxDuration": 100,
                "note": "同SfLag，针对某些重负载场景"
            },
            {
                "hint": "SsAnim",
                "action": "heavyLoad",
                "maxDuration": 300,
                "note": "系统过渡动画的Hint"
            },
            {
                "hint": "Wakeup",
                "action": "heavyLoad",
                "maxDuration": 1500,
                "note": "屏幕点亮Hint"
            }
        ],
        "stateTransition": {
            "note": "Hint状态转移表，key为源状态，value为目的状态列表（按优先级降序排列），不含状态退出转移",
            "None": [
                "Wakeup",
                "Touch",
                "Pressed",
                "Tap",
                "Swipe",
                "Active"
            ],
            "Active": [
                "Wakeup",
                "Touch",
                "Pressed",
                "Tap",
                "Swipe"
            ],
            "Touch": [
                "Wakeup",
                "SsAnim",
                "SfLag",
                "HeavyLoad"
            ],
            "Pressed": [
                "SsAnim",
                "SfBoost"
            ],
            "Tap": [
                "SsAnim",
                "SfLag",
                "HeavyLoad"
            ],
            "Swipe": [
                "SsAnim",
                "SfLag",
                "HeavyLoad"
            ],
            "HeavyLoad": [
                "SfBoost"
            ],
            "SfLag": [],
            "SfBoost": [],
            "SsAnim": [
                "SfBoost"
            ],
            "Wakeup": [
                "SfBoost"
            ]
        }
    },
    "platform": {
        "noteClusterCpuId": "集群的CPU代表id",
        "clusterCpuId": [
            0,
            4
        ],
        "noteEfficiency": "每个CPU核心的的相对同频性能，以Cortex-A53@1.0g为100",
        "efficiency": [
            100,
            100,
            100,
            100,
            170,
            170,
            170,
            170
        ],
        "knobs": [
            {
                "name": "cpuFreqMax",
                "path": "/sys/devices/system/cpu/cpu%d/cpufreq/scaling_max_freq",
                "type": "cpufreq",
                "enable": true,
                "note": "集群最大频率，单位为100Mhz"
            },
            {
                "name": "cpuFreqMin",
                "path": "/sys/devices/system/cpu/cpu%d/cpufreq/scaling_min_freq",
                "type": "cpufreq",
                "enable": true,
                "note": "集群最小频率，单位为100Mhz"
            },
            {
                "name": "littleHidelay",
                "path": "/sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay",
                "type": "string",
                "enable": true,
                "note": "小核的above_hispeed_delay"
            },
            {
                "name": "littleHifreq",
                "path": "/sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq",
                "type": "string",
                "enable": true,
                "note": "小核的hispeed_freq"
            },
            {
                "name": "littleHiload",
                "path": "/sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load",
                "type": "string",
                "enable": true,
                "note": "小核的go_hispeed_load"
            },
            {
                "name": "littleTgload",
                "path": "/sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads",
                "type": "string",
                "enable": true,
                "note": "小核的target_loads"
            },
            {
                "name": "littleMinSample",
                "path": "/sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time",
                "type": "string",
                "enable": true,
                "note": "小核的min_sample_time"
            },
            {
                "name": "littleHyst",
                "path": "/sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis",
                "type": "string",
                "enable": true,
                "note": "小核的max_freq_hysteresis"
            },
            {
                "name": "bigHidelay",
                "path": "/sys/devices/system/cpu/cpu4/cpufreq/interactive/above_hispeed_delay",
                "type": "string",
                "enable": true,
                "note": "大核的above_hispeed_delay"
            },
            {
                "name": "bigHifreq",
                "path": "/sys/devices/system/cpu/cpu4/cpufreq/interactive/hispeed_freq",
                "type": "string",
                "enable": true,
                "note": "大核的hispeed_freq"
            },
            {
                "name": "bigHiload",
                "path": "/sys/devices/system/cpu/cpu4/cpufreq/interactive/go_hispeed_load",
                "type": "string",
                "enable": true,
                "note": "大核的go_hispeed_load"
            },
            {
                "name": "bigTgload",
                "path": "/sys/devices/system/cpu/cpu4/cpufreq/interactive/target_loads",
                "type": "string",
                "enable": true,
                "note": "大核的target_loads"
            },
            {
                "name": "bigMinSample",
                "path": "/sys/devices/system/cpu/cpu4/cpufreq/interactive/min_sample_time",
                "type": "string",
                "enable": true,
                "note": "大核的min_sample_time"
            },
            {
                "name": "bigHyst",
                "path": "/sys/devices/system/cpu/cpu4/cpufreq/interactive/max_freq_hysteresis",
                "type": "string",
                "enable": true,
                "note": "大核的max_freq_hysteresis"
            },
            {
                "name": "downmigrate",
                "path": "/proc/sys/kernel/sched_downmigrate",
                "type": "string",
                "enable": true,
                "note": "如果任务负载占小核容量的百分比小于此阈值，迁移到小核"
            },
            {
                "name": "upmigrate",
                "path": "/proc/sys/kernel/sched_upmigrate",
                "type": "string",
                "enable": true,
                "note": "如果任务负载占小核容量的百分比大于此阈值，迁移到大核"
            },
            {
                "name": "downmigrate2",
                "path": "/proc/sys/kernel/sched_downmigrate",
                "type": "string",
                "enable": true,
                "note": "如果任务负载占小核容量的百分比小于此阈值，迁移到小核，解决down>up的情况"
            },
            {
                "name": "ddrBwMax",
                "path": "/sys/class/devfreq/soc:qcom,cpubw/max_freq",
                "type": "string",
                "enable": true,
                "note": "DDR最大带宽"
            },
            {
                "name": "ddrBwMin",
                "path": "/sys/class/devfreq/soc:qcom,cpubw/min_freq",
                "type": "string",
                "enable": true,
                "note": "DDR最小带宽"
            },
            {
                "name": "ddrLatBig",
                "path": "/sys/class/devfreq/soc:qcom,memlat-cpu4/mem_latency/ratio_ceil",
                "type": "string",
                "enable": true,
                "note": "大核DDR延迟控制，在DDR命中率降低时，值越大越容易提升DDR频率"
            },
            {
                "name": "uxAffinity",
                "path": "placeholder",
                "type": "uxaffinity",
                "enable": true,
                "note": "0=idle，1=active，2=pulse，3=heavy，4=unlimited"
            }
        ]
    },
    "powermodes": [
        {
            "name": "balance",
            "note": "均衡模式，比原厂略流畅的同时略省电(相对卡顿百分比 49.9% 相对续航 114.3%)",
            "actions": {
                "normal": {
                    "cpuFreqMax": "20,24",
                    "cpuFreqMin": "3,3",
                    "littleHidelay": "58000 1478000:18000 1670000:58000 1824000:38000",
                    "littleHifreq": "1401000",
                    "littleHiload": "63",
                    "littleTgload": "65 364000:81 441000:44 518000:87 595000:25 672000:57 748000:35 825000:53 883000:68 960000:62 1036000:38 1094000:19 1171000:20 1248000:38 1324000:78 1401000:46 1478000:29 1555000:48 1670000:66 1747000:71 1824000:72 1900000:80",
                    "littleMinSample": "18000",
                    "littleHyst": "18000",
                    "bigHidelay": "18000 576000:38000 729000:78000 806000:58000 902000:38000 1056000:18000 1132000:38000 1267000:58000 1344000:38000 1420000:18000 1497000:78000 1574000:58000 1728000:38000 1804000:58000 1881000:78000 1958000:38000 2035000:58000 2112000:38000 2342000:78000 2361000:58000",
                    "bigHifreq": "499000",
                    "bigHiload": "11",
                    "bigTgload": "69 345000:55 422000:59 499000:36 576000:43 652000:20 729000:32 806000:55 902000:40 979000:36 1056000:21 1132000:23 1190000:4 1267000:27 1344000:23 1420000:96 1497000:53 1574000:57 1651000:59 1728000:90 1804000:80 1881000:52 1958000:55 2035000:96",
                    "bigMinSample": "18000",
                    "bigHyst": "18000",
                    "downmigrate": "91",
                    "upmigrate": "91",
                    "downmigrate2": "91",
                    "ddrBwMax": "12000",
                    "ddrBwMin": "0",
                    "ddrLatBig": "400",
                    "uxAffinity": "0"
                },
                "interaction": {
                    "cpuFreqMax": "19,21",
                    "cpuFreqMin": "4,3",
                    "littleHidelay": "58000 1478000:18000 1670000:58000 1824000:38000",
                    "littleHifreq": "1401000",
                    "littleHiload": "63",
                    "littleTgload": "65 364000:81 441000:44 518000:87 595000:25 672000:57 748000:35 825000:53 883000:68 960000:62 1036000:38 1094000:19 1171000:20 1248000:38 1324000:78 1401000:46 1478000:29 1555000:48 1670000:66 1747000:71 1824000:72 1900000:80",
                    "littleMinSample": "18000",
                    "littleHyst": "18000",
                    "bigHidelay": "18000 576000:38000 729000:78000 806000:58000 902000:38000 1056000:18000 1132000:38000 1267000:58000 1344000:38000 1420000:18000 1497000:78000 1574000:58000 1728000:38000 1804000:58000 1881000:78000 1958000:38000 2035000:58000 2112000:38000 2342000:78000 2361000:58000",
                    "bigHifreq": "499000",
                    "bigHiload": "11",
                    "bigTgload": "69 345000:55 422000:59 499000:36 576000:43 652000:20 729000:32 806000:55 902000:40 979000:36 1056000:21 1132000:23 1190000:4 1267000:27 1344000:23 1420000:96 1497000:53 1574000:57 1651000:59 1728000:90 1804000:80 1881000:52 1958000:55 2035000:96",
                    "bigMinSample": "18000",
                    "bigHyst": "18000",
                    "downmigrate": "72",
                    "upmigrate": "94",
                    "downmigrate2": "72",
                    "ddrBwMax": "12000",
                    "ddrBwMin": "5000",
                    "ddrLatBig": "800",
                    "uxAffinity": "1"
                },
                "heavyLoad": {
                    "cpuFreqMax": "99,99",
                    "cpuFreqMin": "10,10",
                    "littleHidelay": "18000",
                    "littleHifreq": "1200000",
                    "littleHiload": "90",
                    "littleTgload": "70 1500000:90",
                    "littleMinSample": "18000",
                    "littleHyst": "78000",
                    "bigHidelay": "18000 1800000:78000",
                    "bigHifreq": "1500000",
                    "bigHiload": "90",
                    "bigTgload": "70 1800000:95",
                    "bigMinSample": "18000",
                    "bigHyst": "18000",
                    "downmigrate": "40",
                    "upmigrate": "80",
                    "downmigrate2": "40",
                    "ddrBwMax": "14000",
                    "ddrBwMin": "11000",
                    "ddrLatBig": "800",
                    "uxAffinity": "1"
                },
                "sfLag": {
                    "cpuFreqMax": "19,22",
                    "cpuFreqMin": "18,21",
                    "ddrBwMin": "11000",
                    "uxAffinity": "1"
                }
            }
        },
        {
            "name": "powersave",
            "note": "卡顿模式，保证基本流畅的同时尽可能降低功耗(相对卡顿百分比 99.9% 相对续航 138.3%)",
            "actions": {
                "normal": {
                    "cpuFreqMax": "20,24",
                    "cpuFreqMin": "3,3",
                    "littleHidelay": "78000 441000:58000 518000:38000 883000:58000 960000:18000 1094000:78000 1171000:18000 1324000:58000 1401000:78000 1478000:38000 1555000:58000 1824000:38000",
                    "littleHifreq": "364000",
                    "littleHiload": "47",
                    "littleTgload": "54 364000:31 441000:25 518000:29 595000:61 672000:14 748000:11 825000:18 883000:9 960000:34 1036000:48 1094000:25 1171000:51 1248000:48 1324000:31 1401000:86 1478000:60 1555000:64 1670000:53 1747000:96 1824000:65 1900000:91",
                    "littleMinSample": "18000",
                    "littleHyst": "18000",
                    "bigHidelay": "38000 422000:78000 499000:38000 576000:58000 729000:18000 806000:38000 902000:78000 979000:58000 1132000:38000 1190000:58000 1267000:18000 1344000:38000 1420000:58000 1497000:18000 1574000:78000 1651000:38000 1958000:58000 2112000:18000 2265000:78000 2342000:18000 2361000:38000",
                    "bigHifreq": "345000",
                    "bigHiload": "32",
                    "bigTgload": "21 345000:55 422000:51 499000:41 576000:38 652000:69 729000:21 806000:26 902000:66 979000:60 1056000:37 1132000:23 1190000:64 1267000:45 1344000:51 1420000:47 1497000:70 1574000:20 1651000:26 1728000:52 1804000:58 1881000:51 1958000:44 2035000:64",
                    "bigMinSample": "58000",
                    "bigHyst": "18000",
                    "downmigrate": "88",
                    "upmigrate": "88",
                    "downmigrate2": "88",
                    "ddrBwMax": "12000",
                    "ddrBwMin": "0",
                    "ddrLatBig": "400",
                    "uxAffinity": "0"
                },
                "interaction": {
                    "cpuFreqMax": "19,18",
                    "cpuFreqMin": "3,3",
                    "littleHidelay": "78000 441000:58000 518000:38000 883000:58000 960000:18000 1094000:78000 1171000:18000 1324000:58000 1401000:78000 1478000:38000 1555000:58000 1824000:38000",
                    "littleHifreq": "364000",
                    "littleHiload": "47",
                    "littleTgload": "54 364000:31 441000:25 518000:29 595000:61 672000:14 748000:11 825000:18 883000:9 960000:34 1036000:48 1094000:25 1171000:51 1248000:48 1324000:31 1401000:86 1478000:60 1555000:64 1670000:53 1747000:96 1824000:65 1900000:91",
                    "littleMinSample": "18000",
                    "littleHyst": "18000",
                    "bigHidelay": "38000 422000:78000 499000:38000 576000:58000 729000:18000 806000:38000 902000:78000 979000:58000 1132000:38000 1190000:58000 1267000:18000 1344000:38000 1420000:58000 1497000:18000 1574000:78000 1651000:38000 1958000:58000 2112000:18000 2265000:78000 2342000:18000 2361000:38000",
                    "bigHifreq": "345000",
                    "bigHiload": "32",
                    "bigTgload": "21 345000:55 422000:51 499000:41 576000:38 652000:69 729000:21 806000:26 902000:66 979000:60 1056000:37 1132000:23 1190000:64 1267000:45 1344000:51 1420000:47 1497000:70 1574000:20 1651000:26 1728000:52 1804000:58 1881000:51 1958000:44 2035000:64",
                    "bigMinSample": "58000",
                    "bigHyst": "18000",
                    "downmigrate": "85",
                    "upmigrate": "94",
                    "downmigrate2": "85",
                    "ddrBwMax": "12000",
                    "ddrBwMin": "5000",
                    "ddrLatBig": "400",
                    "uxAffinity": "0"
                },
                "heavyLoad": {
                    "cpuFreqMax": "99,99",
                    "cpuFreqMin": "10,10",
                    "littleHidelay": "18000",
                    "littleHifreq": "1200000",
                    "littleHiload": "90",
                    "littleTgload": "70 1500000:90",
                    "littleMinSample": "18000",
                    "littleHyst": "78000",
                    "bigHidelay": "18000 1800000:78000",
                    "bigHifreq": "1500000",
                    "bigHiload": "90",
                    "bigTgload": "70 1800000:95",
                    "bigMinSample": "18000",
                    "bigHyst": "18000",
                    "downmigrate": "40",
                    "upmigrate": "80",
                    "downmigrate2": "40",
                    "ddrBwMax": "12000",
                    "ddrBwMin": "5000",
                    "ddrLatBig": "800",
                    "uxAffinity": "0"
                },
                "sfLag": {
                    "cpuFreqMax": "19,18",
                    "cpuFreqMin": "15,16",
                    "ddrBwMin": "5000",
                    "uxAffinity": "1"
                }
            }
        },
        {
            "name": "performance",
            "note": "费电模式，保证费电的同时多一点流畅度",
            "actions": {
                "normal": {
                    "cpuFreqMax": "20,24",
                    "cpuFreqMin": "3,3",
                    "littleHidelay": "18000",
                    "littleHifreq": "1200000",
                    "littleHiload": "90",
                    "littleTgload": "70 1500000:90",
                    "littleMinSample": "18000",
                    "littleHyst": "78000",
                    "bigHidelay": "18000 1800000:78000",
                    "bigHifreq": "1500000",
                    "bigHiload": "90",
                    "bigTgload": "70 1800000:95",
                    "bigMinSample": "18000",
                    "bigHyst": "18000",
                    "downmigrate": "40",
                    "upmigrate": "80",
                    "downmigrate2": "40",
                    "ddrBwMax": "12000",
                    "ddrBwMin": "5000",
                    "ddrLatBig": "400",
                    "uxAffinity": "3"
                },
                "interaction": {
                    "cpuFreqMax": "19,22",
                    "cpuFreqMin": "18,21",
                    "littleHidelay": "18000",
                    "littleHifreq": "1200000",
                    "littleHiload": "90",
                    "littleTgload": "70 1500000:90",
                    "littleMinSample": "18000",
                    "littleHyst": "78000",
                    "bigHidelay": "18000 1800000:78000",
                    "bigHifreq": "1500000",
                    "bigHiload": "90",
                    "bigTgload": "70 1800000:95",
                    "bigMinSample": "18000",
                    "bigHyst": "18000",
                    "downmigrate": "40",
                    "upmigrate": "80",
                    "downmigrate2": "40",
                    "ddrBwMax": "14000",
                    "ddrBwMin": "11000",
                    "ddrLatBig": "800",
                    "uxAffinity": "3"
                },
                "heavyLoad": {
                    "cpuFreqMax": "99,99",
                    "cpuFreqMin": "10,10",
                    "littleHidelay": "18000",
                    "littleHifreq": "1200000",
                    "littleHiload": "90",
                    "littleTgload": "70 1500000:90",
                    "littleMinSample": "18000",
                    "littleHyst": "78000",
                    "bigHidelay": "18000 1800000:78000",
                    "bigHifreq": "1500000",
                    "bigHiload": "90",
                    "bigTgload": "70 1800000:95",
                    "bigMinSample": "18000",
                    "bigHyst": "18000",
                    "downmigrate": "40",
                    "upmigrate": "80",
                    "downmigrate2": "40",
                    "ddrBwMax": "14000",
                    "ddrBwMin": "11000",
                    "ddrLatBig": "800",
                    "uxAffinity": "3"
                },
                "sfLag": {
                    "cpuFreqMax": "20,24",
                    "cpuFreqMin": "19,23",
                    "ddrBwMin": "11000",
                    "uxAffinity": "3"
                }
            }
        }
    ]
}